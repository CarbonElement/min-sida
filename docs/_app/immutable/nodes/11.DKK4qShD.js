import{s as et,n as re,e as tt}from"../chunks/scheduler.DydP1Fc2.js";import{S as st,i as lt,e as o,s as b,t as ce,c as i,a as u,k as j,f as A,d as f,b as oe,m as c,g as ie,h as n,l as he,v as nt,j as at}from"../chunks/index.BIr2hK6o.js";import{e as M}from"../chunks/each.D6YF6ztN.js";function Te(r,t,a){const l=r.slice();return l[7]=t[a],l}function $e(r,t,a){const l=r.slice();return l[7]=t[a],l}function ze(r,t,a){const l=r.slice();return l[7]=t[a],l}function Qe(r,t,a){const l=r.slice();return l[7]=t[a],l}function We(r,t,a){const l=r.slice();return l[16]=t[a],l}function Je(r){let t,a,l,h,N,d=r[16].date+"",O,F,y,P;function S(){return r[4](r[16])}return{c(){t=o("div"),a=o("img"),h=b(),N=o("p"),O=ce(d),F=b(),this.h()},l(D){t=i(D,"DIV",{class:!0});var m=u(t);a=i(m,"IMG",{class:!0,src:!0}),h=A(m),N=i(m,"P",{class:!0});var v=u(N);O=oe(v,d),v.forEach(f),F=A(m),m.forEach(f),this.h()},h(){c(a,"class","swimmer svelte-cqksmr"),tt(a.src,l="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQujAgmFQCaOtgfzwGzDDRcOonOJ7C2m-hqlQ&s")||c(a,"src",l),c(N,"class","date svelte-cqksmr"),c(t,"class","square svelte-cqksmr")},m(D,m){ie(D,t,m),n(t,a),n(t,h),n(t,N),n(N,O),n(t,F),y||(P=nt(t,"click",S),y=!0)},p(D,m){r=D,m&1&&d!==(d=r[16].date+"")&&at(O,d)},d(D){D&&f(t),y=!1,P()}}}function Le(r){let t,a;return{c(){t=o("span"),a=ce("★"),this.h()},l(l){t=i(l,"SPAN",{class:!0});var h=u(t);a=oe(h,"★"),h.forEach(f),this.h()},h(){c(t,"class","star "+(r[7]<r[1].sleep?"filled":"")+" svelte-cqksmr")},m(l,h){ie(l,t,h),n(t,a)},p:re,d(l){l&&f(t)}}}function Re(r){let t,a;return{c(){t=o("span"),a=ce("★"),this.h()},l(l){t=i(l,"SPAN",{class:!0});var h=u(t);a=oe(h,"★"),h.forEach(f),this.h()},h(){c(t,"class","star "+(r[7]<r[1].nutrition?"filled":"")+" svelte-cqksmr")},m(l,h){ie(l,t,h),n(t,a)},p:re,d(l){l&&f(t)}}}function Be(r){let t,a;return{c(){t=o("span"),a=ce("★"),this.h()},l(l){t=i(l,"SPAN",{class:!0});var h=u(t);a=oe(h,"★"),h.forEach(f),this.h()},h(){c(t,"class","star "+(r[7]<r[1].feel?"filled":"")+" svelte-cqksmr")},m(l,h){ie(l,t,h),n(t,a)},p:re,d(l){l&&f(t)}}}function Ke(r){let t,a;return{c(){t=o("span"),a=ce("★"),this.h()},l(l){t=i(l,"SPAN",{class:!0});var h=u(t);a=oe(h,"★"),h.forEach(f),this.h()},h(){c(t,"class","star "+(r[7]<r[2]?"filled":"")+" svelte-cqksmr")},m(l,h){ie(l,t,h),n(t,a)},p:re,d(l){l&&f(t)}}}function rt(r){let t,a,l,h="Recent sessions",N,d,O='<button class="add svelte-cqksmr">+</button>',F,y,P,S,D="Show all",m,v,w,Ie="Weekly Statistics",me,G,Se="More",pe,I,H,W,Ne="Sleep",ge,J,ke,T,L,ye="Nutrition",qe,R,Ce,$,B,Pe="Feel",xe,K,Ee,z,U,Ve="Sessions",be,Z,Ae,De,Q,X,je="General score",we,Y,ee=M(r[0].slice(-5).reverse()),p=[];for(let s=0;s<ee.length;s+=1)p[s]=Je(We(r,ee,s));let te=M(Array(5).fill(0).map(Ue)),g=[];for(let s=0;s<te.length;s+=1)g[s]=Le(Qe(r,te,s));let se=M(Array(5).fill(0).map(Xe)),k=[];for(let s=0;s<se.length;s+=1)k[s]=Re(ze(r,se,s));let le=M(Array(5).fill(0).map(Ye)),q=[];for(let s=0;s<le.length;s+=1)q[s]=Be($e(r,le,s));let ne=M(Array(5).fill(0).map(Ze)),C=[];for(let s=0;s<ne.length;s+=1)C[s]=Ke(Te(r,ne,s));return{c(){t=o("main"),a=o("section"),l=o("h2"),l.textContent=h,N=b(),d=o("a"),d.innerHTML=O,F=b(),y=o("div");for(let s=0;s<p.length;s+=1)p[s].c();P=b(),S=o("a"),S.textContent=D,m=b(),v=o("section"),w=o("h2"),w.textContent=Ie,me=b(),G=o("a"),G.textContent=Se,pe=b(),I=o("div"),H=o("div"),W=o("p"),W.textContent=Ne,ge=b(),J=o("div");for(let s=0;s<g.length;s+=1)g[s].c();ke=b(),T=o("div"),L=o("p"),L.textContent=ye,qe=b(),R=o("div");for(let s=0;s<k.length;s+=1)k[s].c();Ce=b(),$=o("div"),B=o("p"),B.textContent=Pe,xe=b(),K=o("div");for(let s=0;s<q.length;s+=1)q[s].c();Ee=b(),z=o("div"),U=o("p"),U.textContent=Ve,be=b(),Z=o("p"),Ae=ce(r[3]),De=b(),Q=o("div"),X=o("p"),X.textContent=je,we=b(),Y=o("div");for(let s=0;s<C.length;s+=1)C[s].c();this.h()},l(s){t=i(s,"MAIN",{class:!0});var x=u(t);a=i(x,"SECTION",{class:!0});var e=u(a);l=i(e,"H2",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-18np5ji"&&(l.textContent=h),N=A(e),d=i(e,"A",{href:!0,"data-svelte-h":!0}),j(d)!=="svelte-1xahwf9"&&(d.innerHTML=O),F=A(e),y=i(e,"DIV",{class:!0});var E=u(y);for(let _=0;_<p.length;_+=1)p[_].l(E);E.forEach(f),P=A(e),S=i(e,"A",{class:!0,href:!0,"data-svelte-h":!0}),j(S)!=="svelte-12onc22"&&(S.textContent=D),e.forEach(f),m=A(x),v=i(x,"SECTION",{class:!0});var ae=u(v);w=i(ae,"H2",{class:!0,"data-svelte-h":!0}),j(w)!=="svelte-11cmfec"&&(w.textContent=Ie),me=A(ae),G=i(ae,"A",{class:!0,href:!0,"data-svelte-h":!0}),j(G)!=="svelte-dfpfbo"&&(G.textContent=Se),pe=A(ae),I=i(ae,"DIV",{class:!0});var V=u(I);H=i(V,"DIV",{class:!0});var fe=u(H);W=i(fe,"P",{class:!0,"data-svelte-h":!0}),j(W)!=="svelte-1fjhksf"&&(W.textContent=Ne),ge=A(fe),J=i(fe,"DIV",{class:!0});var Me=u(J);for(let _=0;_<g.length;_+=1)g[_].l(Me);Me.forEach(f),fe.forEach(f),ke=A(V),T=i(V,"DIV",{class:!0});var ue=u(T);L=i(ue,"P",{class:!0,"data-svelte-h":!0}),j(L)!=="svelte-7aoyyg"&&(L.textContent=ye),qe=A(ue),R=i(ue,"DIV",{class:!0});var Oe=u(R);for(let _=0;_<k.length;_+=1)k[_].l(Oe);Oe.forEach(f),ue.forEach(f),Ce=A(V),$=i(V,"DIV",{class:!0});var ve=u($);B=i(ve,"P",{class:!0,"data-svelte-h":!0}),j(B)!=="svelte-d8b5c"&&(B.textContent=Pe),xe=A(ve),K=i(ve,"DIV",{class:!0});var Fe=u(K);for(let _=0;_<q.length;_+=1)q[_].l(Fe);Fe.forEach(f),ve.forEach(f),Ee=A(V),z=i(V,"DIV",{class:!0});var _e=u(z);U=i(_e,"P",{class:!0,"data-svelte-h":!0}),j(U)!=="svelte-qhf23z"&&(U.textContent=Ve),be=A(_e),Z=i(_e,"P",{class:!0});var Ge=u(Z);Ae=oe(Ge,r[3]),Ge.forEach(f),_e.forEach(f),De=A(V),Q=i(V,"DIV",{class:!0});var de=u(Q);X=i(de,"P",{class:!0,"data-svelte-h":!0}),j(X)!=="svelte-13svbiq"&&(X.textContent=je),we=A(de),Y=i(de,"DIV",{class:!0});var He=u(Y);for(let _=0;_<C.length;_+=1)C[_].l(He);He.forEach(f),de.forEach(f),V.forEach(f),ae.forEach(f),x.forEach(f),this.h()},h(){c(l,"class","svelte-cqksmr"),c(d,"href","/journal/new"),c(y,"class","sessions svelte-cqksmr"),c(S,"class","link show svelte-cqksmr"),c(S,"href","/journal/sessions"),c(a,"class","recent svelte-cqksmr"),c(w,"class","svelte-cqksmr"),c(G,"class","link more svelte-cqksmr"),c(G,"href","/journal/"),c(W,"class","svelte-cqksmr"),c(J,"class","stars svelte-cqksmr"),c(H,"class","stats_square svelte-cqksmr"),c(L,"class","svelte-cqksmr"),c(R,"class","stars svelte-cqksmr"),c(T,"class","stats_square svelte-cqksmr"),c(B,"class","svelte-cqksmr"),c(K,"class","stars svelte-cqksmr"),c($,"class","stats_square svelte-cqksmr"),c(U,"class","svelte-cqksmr"),c(Z,"class","bold svelte-cqksmr"),c(z,"class","stats_square svelte-cqksmr"),c(X,"class","svelte-cqksmr"),c(Y,"class","stars svelte-cqksmr"),c(Q,"class","stats_square svelte-cqksmr"),c(I,"class","stats svelte-cqksmr"),c(v,"class","stats-main svelte-cqksmr"),c(t,"class","svelte-cqksmr")},m(s,x){ie(s,t,x),n(t,a),n(a,l),n(a,N),n(a,d),n(a,F),n(a,y);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(y,null);n(a,P),n(a,S),n(t,m),n(t,v),n(v,w),n(v,me),n(v,G),n(v,pe),n(v,I),n(I,H),n(H,W),n(H,ge),n(H,J);for(let e=0;e<g.length;e+=1)g[e]&&g[e].m(J,null);n(I,ke),n(I,T),n(T,L),n(T,qe),n(T,R);for(let e=0;e<k.length;e+=1)k[e]&&k[e].m(R,null);n(I,Ce),n(I,$),n($,B),n($,xe),n($,K);for(let e=0;e<q.length;e+=1)q[e]&&q[e].m(K,null);n(I,Ee),n(I,z),n(z,U),n(z,be),n(z,Z),n(Z,Ae),n(I,De),n(I,Q),n(Q,X),n(Q,we),n(Q,Y);for(let e=0;e<C.length;e+=1)C[e]&&C[e].m(Y,null)},p(s,[x]){if(x&1){ee=M(s[0].slice(-5).reverse());let e;for(e=0;e<ee.length;e+=1){const E=We(s,ee,e);p[e]?p[e].p(E,x):(p[e]=Je(E),p[e].c(),p[e].m(y,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=ee.length}if(x&2){te=M(Array(5).fill(0).map(Ue));let e;for(e=0;e<te.length;e+=1){const E=Qe(s,te,e);g[e]?g[e].p(E,x):(g[e]=Le(E),g[e].c(),g[e].m(J,null))}for(;e<g.length;e+=1)g[e].d(1);g.length=te.length}if(x&2){se=M(Array(5).fill(0).map(Xe));let e;for(e=0;e<se.length;e+=1){const E=ze(s,se,e);k[e]?k[e].p(E,x):(k[e]=Re(E),k[e].c(),k[e].m(R,null))}for(;e<k.length;e+=1)k[e].d(1);k.length=se.length}if(x&2){le=M(Array(5).fill(0).map(Ye));let e;for(e=0;e<le.length;e+=1){const E=$e(s,le,e);q[e]?q[e].p(E,x):(q[e]=Be(E),q[e].c(),q[e].m(K,null))}for(;e<q.length;e+=1)q[e].d(1);q.length=le.length}if(x&4){ne=M(Array(5).fill(0).map(Ze));let e;for(e=0;e<ne.length;e+=1){const E=Te(s,ne,e);C[e]?C[e].p(E,x):(C[e]=Ke(E),C[e].c(),C[e].m(Y,null))}for(;e<C.length;e+=1)C[e].d(1);C.length=ne.length}},i:re,o:re,d(s){s&&f(t),he(p,s),he(g,s),he(k,s),he(q,s),he(C,s)}}}const Ue=(r,t)=>t,Xe=(r,t)=>t,Ye=(r,t)=>t,Ze=(r,t)=>t;function ct(r,t,a){let l=[];function h(){typeof window<"u"&&a(0,l=JSON.parse(localStorage.getItem("sessions"))||[])}h(),console.log(l);function N(){if(typeof window>"u")return{sleep:0,nutrition:0,feel:0};const P=new Date,S=new Date(P);S.setDate(P.getDate()-7);const D=l.filter(v=>{const w=new Date(v.date);return w>=S&&w<=P});if(D.length===0)return{sleep:0,nutrition:0,feel:0};const m=D.reduce((v,w)=>(v.sleep+=Number(w.sleep)||0,v.nutrition+=Number(w.nutrition)||0,v.feel+=Number(w.feel)||0,v),{sleep:0,nutrition:0,feel:0});return{sleep:+(m.sleep/D.length).toFixed(2),nutrition:+(m.nutrition/D.length).toFixed(2),feel:+(m.feel/D.length).toFixed(2)}}let d=N(),O=Math.round((d.sleep+d.nutrition+d.feel)/3),F=l.length;return[l,d,O,F,P=>window.location.href="/journal/sessions/"+P.id]}class ft extends st{constructor(t){super(),lt(this,t,ct,rt,et,{})}}export{ft as component};
