import{s as Ye,n as ae,e as Ze}from"../chunks/scheduler.DydP1Fc2.js";import{S as et,i as tt,e as o,s as A,t as ie,c as h,a as d,k as $,f as w,d as f,b as ce,m as c,g as re,h as a,l as oe,v as lt,j as st}from"../chunks/index.BIr2hK6o.js";import{e as j}from"../chunks/each.Cy0tYKnX.js";import{b as Se}from"../chunks/paths.DN0HoinB.js";import{g as nt}from"../chunks/entry.UMMjqCYi.js";function Fe(i,t,n){const s=i.slice();return s[8]=t[n],s}function Me(i,t,n){const s=i.slice();return s[8]=t[n],s}function ze(i,t,n){const s=i.slice();return s[8]=t[n],s}function Ge(i,t,n){const s=i.slice();return s[8]=t[n],s}function He(i,t,n){const s=i.slice();return s[17]=t[n],s}function Qe(i){let t,n,s,r,y,S=i[17].date+"",P,O,V,F;function v(){return i[5](i[17])}return{c(){t=o("div"),n=o("img"),r=A(),y=o("p"),P=ie(S),O=A(),this.h()},l(E){t=h(E,"DIV",{class:!0});var u=d(t);n=h(u,"IMG",{class:!0,alt:!0,src:!0}),r=w(u),y=h(u,"P",{class:!0});var D=d(y);P=ce(D,S),D.forEach(f),O=w(u),u.forEach(f),this.h()},h(){c(n,"class","swimmer svelte-16ncixa"),c(n,"alt","swimmer"),Ze(n.src,s="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQujAgmFQCaOtgfzwGzDDRcOonOJ7C2m-hqlQ&s")||c(n,"src",s),c(y,"class","date svelte-16ncixa"),c(t,"class","square svelte-16ncixa")},m(E,u){re(E,t,u),a(t,n),a(t,r),a(t,y),a(y,P),a(t,O),V||(F=lt(t,"click",v),V=!0)},p(E,u){i=E,u&1&&S!==(S=i[17].date+"")&&st(P,S)},d(E){E&&f(t),V=!1,F()}}}function We(i){let t,n;return{c(){t=o("span"),n=ie("★"),this.h()},l(s){t=h(s,"SPAN",{class:!0});var r=d(t);n=ce(r,"★"),r.forEach(f),this.h()},h(){c(t,"class","star "+(i[8]<i[1].sleep?"filled":"")+" svelte-16ncixa")},m(s,r){re(s,t,r),a(t,n)},p:ae,d(s){s&&f(t)}}}function Be(i){let t,n;return{c(){t=o("span"),n=ie("★"),this.h()},l(s){t=h(s,"SPAN",{class:!0});var r=d(t);n=ce(r,"★"),r.forEach(f),this.h()},h(){c(t,"class","star "+(i[8]<i[1].nutrition?"filled":"")+" svelte-16ncixa")},m(s,r){re(s,t,r),a(t,n)},p:ae,d(s){s&&f(t)}}}function Je(i){let t,n;return{c(){t=o("span"),n=ie("★"),this.h()},l(s){t=h(s,"SPAN",{class:!0});var r=d(t);n=ce(r,"★"),r.forEach(f),this.h()},h(){c(t,"class","star "+(i[8]<i[1].feel?"filled":"")+" svelte-16ncixa")},m(s,r){re(s,t,r),a(t,n)},p:ae,d(s){s&&f(t)}}}function Le(i){let t,n;return{c(){t=o("span"),n=ie("★"),this.h()},l(s){t=h(s,"SPAN",{class:!0});var r=d(t);n=ce(r,"★"),r.forEach(f),this.h()},h(){c(t,"class","star "+(i[8]<i[2]?"filled":"")+" svelte-16ncixa")},m(s,r){re(s,t,r),a(t,n)},p:ae,d(s){s&&f(t)}}}function at(i){let t,n,s,r="Recent sessions",y,S,P='<button class="add svelte-16ncixa">+</button>',O,V,F,v,E="Show all",u,D,I,T="Weekly Statistics",pe,N,M,W,Ie="Sleep",me,B,ge,z,J,Ne="Nutrition",xe,L,Ce,G,R,Pe="Feel",be,K,ke,H,U,Ve="Sessions",Ee,Z,De,Ae,Q,X,ye="General score",we,Y,ee=j(i[0].slice(0,5)),p=[];for(let l=0;l<ee.length;l+=1)p[l]=Qe(He(i,ee,l));let te=j(Array(5).fill(0).map(Re)),m=[];for(let l=0;l<te.length;l+=1)m[l]=We(Ge(i,te,l));let le=j(Array(5).fill(0).map(Ke)),g=[];for(let l=0;l<le.length;l+=1)g[l]=Be(ze(i,le,l));let se=j(Array(5).fill(0).map(Ue)),x=[];for(let l=0;l<se.length;l+=1)x[l]=Je(Me(i,se,l));let ne=j(Array(5).fill(0).map(Xe)),C=[];for(let l=0;l<ne.length;l+=1)C[l]=Le(Fe(i,ne,l));return{c(){t=o("main"),n=o("section"),s=o("h2"),s.textContent=r,y=A(),S=o("a"),S.innerHTML=P,O=A(),V=o("div");for(let l=0;l<p.length;l+=1)p[l].c();F=A(),v=o("a"),v.textContent=E,u=A(),D=o("section"),I=o("h2"),I.textContent=T,pe=A(),N=o("div"),M=o("div"),W=o("p"),W.textContent=Ie,me=A(),B=o("div");for(let l=0;l<m.length;l+=1)m[l].c();ge=A(),z=o("div"),J=o("p"),J.textContent=Ne,xe=A(),L=o("div");for(let l=0;l<g.length;l+=1)g[l].c();Ce=A(),G=o("div"),R=o("p"),R.textContent=Pe,be=A(),K=o("div");for(let l=0;l<x.length;l+=1)x[l].c();ke=A(),H=o("div"),U=o("p"),U.textContent=Ve,Ee=A(),Z=o("p"),De=ie(i[3]),Ae=A(),Q=o("div"),X=o("p"),X.textContent=ye,we=A(),Y=o("div");for(let l=0;l<C.length;l+=1)C[l].c();this.h()},l(l){t=h(l,"MAIN",{class:!0});var b=d(t);n=h(b,"SECTION",{class:!0});var e=d(n);s=h(e,"H2",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-18np5ji"&&(s.textContent=r),y=w(e),S=h(e,"A",{href:!0,"data-svelte-h":!0}),$(S)!=="svelte-1ga9esc"&&(S.innerHTML=P),O=w(e),V=h(e,"DIV",{class:!0});var k=d(V);for(let _=0;_<p.length;_+=1)p[_].l(k);k.forEach(f),F=w(e),v=h(e,"A",{class:!0,href:!0,"data-svelte-h":!0}),$(v)!=="svelte-16sobnv"&&(v.textContent=E),e.forEach(f),u=w(b),D=h(b,"SECTION",{class:!0});var he=d(D);I=h(he,"H2",{class:!0,"data-svelte-h":!0}),$(I)!=="svelte-11cmfec"&&(I.textContent=T),pe=w(he),N=h(he,"DIV",{class:!0});var q=d(N);M=h(q,"DIV",{class:!0});var fe=d(M);W=h(fe,"P",{class:!0,"data-svelte-h":!0}),$(W)!=="svelte-12m8zmj"&&(W.textContent=Ie),me=w(fe),B=h(fe,"DIV",{class:!0});var qe=d(B);for(let _=0;_<m.length;_+=1)m[_].l(qe);qe.forEach(f),fe.forEach(f),ge=w(q),z=h(q,"DIV",{class:!0});var ue=d(z);J=h(ue,"P",{class:!0,"data-svelte-h":!0}),$(J)!=="svelte-w2xvzm"&&(J.textContent=Ne),xe=w(ue),L=h(ue,"DIV",{class:!0});var je=d(L);for(let _=0;_<g.length;_+=1)g[_].l(je);je.forEach(f),ue.forEach(f),Ce=w(q),G=h(q,"DIV",{class:!0});var de=d(G);R=h(de,"P",{class:!0,"data-svelte-h":!0}),$(R)!=="svelte-1od1tx6"&&(R.textContent=Pe),be=w(de),K=h(de,"DIV",{class:!0});var Oe=d(K);for(let _=0;_<x.length;_+=1)x[_].l(Oe);Oe.forEach(f),de.forEach(f),ke=w(q),H=h(q,"DIV",{class:!0});var ve=d(H);U=h(ve,"P",{class:!0,"data-svelte-h":!0}),$(U)!=="svelte-1t2pf7v"&&(U.textContent=Ve),Ee=w(ve),Z=h(ve,"P",{class:!0});var Te=d(Z);De=ce(Te,i[3]),Te.forEach(f),ve.forEach(f),Ae=w(q),Q=h(q,"DIV",{class:!0});var _e=d(Q);X=h(_e,"P",{class:!0,"data-svelte-h":!0}),$(X)!=="svelte-i9m9kk"&&(X.textContent=ye),we=w(_e),Y=h(_e,"DIV",{class:!0});var $e=d(Y);for(let _=0;_<C.length;_+=1)C[_].l($e);$e.forEach(f),_e.forEach(f),q.forEach(f),he.forEach(f),b.forEach(f),this.h()},h(){c(s,"class","svelte-16ncixa"),c(S,"href",Se+"/journal/new"),c(V,"class","sessions svelte-16ncixa"),c(v,"class","link show svelte-16ncixa"),c(v,"href",Se+"/journal/sessions"),c(n,"class","recent svelte-16ncixa"),c(I,"class","svelte-16ncixa"),c(W,"class","bold svelte-16ncixa"),c(B,"class","stars svelte-16ncixa"),c(M,"class","stats_square svelte-16ncixa"),c(J,"class","bold svelte-16ncixa"),c(L,"class","stars svelte-16ncixa"),c(z,"class","stats_square svelte-16ncixa"),c(R,"class","bold svelte-16ncixa"),c(K,"class","stars svelte-16ncixa"),c(G,"class","stats_square svelte-16ncixa"),c(U,"class","bold svelte-16ncixa"),c(Z,"class","bold three svelte-16ncixa"),c(H,"class","stats_square svelte-16ncixa"),c(X,"class","bold svelte-16ncixa"),c(Y,"class","stars svelte-16ncixa"),c(Q,"class","stats_square svelte-16ncixa"),c(N,"class","stats svelte-16ncixa"),c(D,"class","stats-main svelte-16ncixa"),c(t,"class","svelte-16ncixa")},m(l,b){re(l,t,b),a(t,n),a(n,s),a(n,y),a(n,S),a(n,O),a(n,V);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(V,null);a(n,F),a(n,v),a(t,u),a(t,D),a(D,I),a(D,pe),a(D,N),a(N,M),a(M,W),a(M,me),a(M,B);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(B,null);a(N,ge),a(N,z),a(z,J),a(z,xe),a(z,L);for(let e=0;e<g.length;e+=1)g[e]&&g[e].m(L,null);a(N,Ce),a(N,G),a(G,R),a(G,be),a(G,K);for(let e=0;e<x.length;e+=1)x[e]&&x[e].m(K,null);a(N,ke),a(N,H),a(H,U),a(H,Ee),a(H,Z),a(Z,De),a(N,Ae),a(N,Q),a(Q,X),a(Q,we),a(Q,Y);for(let e=0;e<C.length;e+=1)C[e]&&C[e].m(Y,null)},p(l,[b]){if(b&1){ee=j(l[0].slice(0,5));let e;for(e=0;e<ee.length;e+=1){const k=He(l,ee,e);p[e]?p[e].p(k,b):(p[e]=Qe(k),p[e].c(),p[e].m(V,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=ee.length}if(b&2){te=j(Array(5).fill(0).map(Re));let e;for(e=0;e<te.length;e+=1){const k=Ge(l,te,e);m[e]?m[e].p(k,b):(m[e]=We(k),m[e].c(),m[e].m(B,null))}for(;e<m.length;e+=1)m[e].d(1);m.length=te.length}if(b&2){le=j(Array(5).fill(0).map(Ke));let e;for(e=0;e<le.length;e+=1){const k=ze(l,le,e);g[e]?g[e].p(k,b):(g[e]=Be(k),g[e].c(),g[e].m(L,null))}for(;e<g.length;e+=1)g[e].d(1);g.length=le.length}if(b&2){se=j(Array(5).fill(0).map(Ue));let e;for(e=0;e<se.length;e+=1){const k=Me(l,se,e);x[e]?x[e].p(k,b):(x[e]=Je(k),x[e].c(),x[e].m(K,null))}for(;e<x.length;e+=1)x[e].d(1);x.length=se.length}if(b&4){ne=j(Array(5).fill(0).map(Xe));let e;for(e=0;e<ne.length;e+=1){const k=Fe(l,ne,e);C[e]?C[e].p(k,b):(C[e]=Le(k),C[e].c(),C[e].m(Y,null))}for(;e<C.length;e+=1)C[e].d(1);C.length=ne.length}},i:ae,o:ae,d(l){l&&f(t),oe(p,l),oe(m,l),oe(g,l),oe(x,l),oe(C,l)}}}const Re=(i,t)=>t,Ke=(i,t)=>t,Ue=(i,t)=>t,Xe=(i,t)=>t;function it(i,t,n){let s,r=[];function y(){typeof window<"u"&&n(4,r=JSON.parse(localStorage.getItem("sessions"))||[])}y(),console.log(r);function S(){if(typeof window>"u")return{sleep:0,nutrition:0,feel:0};const v=new Date,E=new Date(v);E.setDate(v.getDate()-7);const u=r.filter(I=>{const T=new Date(I.date);return T>=E&&T<=v});if(u.length===0)return{sleep:0,nutrition:0,feel:0};const D=u.reduce((I,T)=>(I.sleep+=Number(T.sleep)||0,I.nutrition+=Number(T.nutrition)||0,I.feel+=Number(T.feel)||0,I),{sleep:0,nutrition:0,feel:0});return{sleep:+(D.sleep/u.length).toFixed(2),nutrition:+(D.nutrition/u.length).toFixed(2),feel:+(D.feel/u.length).toFixed(2),count:u.length}}let P=S(),O=Math.round((P.sleep+P.nutrition+P.feel)/3),V=P.count||0;const F=v=>nt(Se+"/journal/sessions/"+v.id);return i.$$.update=()=>{i.$$.dirty&16&&n(0,s=[...r].sort((v,E)=>{const u=new Date(`${v.date}T${v.time||"00:00"}`);return new Date(`${E.date}T${E.time||"00:00"}`)-u}))},[s,P,O,V,r,F]}class ut extends et{constructor(t){super(),tt(this,t,it,at,Ye,{})}}export{ut as component};
